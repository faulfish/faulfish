五子棋 (日本規則) - 功能總結

這個程式實現了一個帶有日本連珠規則的五子棋遊戲，具有圖形介面和多項輔助功能：
核心遊戲規則 (連珠 Renju)：
標準 15x15 棋盤。
黑白雙方輪流在棋盤交叉點落子。

勝利條件：
白方： 先連成五子或五子以上（長連）者獲勝。
黑方： 先連成恰好五子者獲勝。
黑方禁手 (Forbidden Moves)： 為了平衡黑棋先行的優勢，黑方有以下禁手限制：
長連 (Overline)： 禁止形成六子或六子以上連續。
三三 (Double Three)： 禁止下一子同時形成兩個或兩個以上有效的「活三」（兩端無阻礙的三子連線）。
四四 (Double Four)： 禁止下一子同時形成兩個或兩個以上有效的「四」（包括活四、衝四）。

禁手處理： 如果黑方試圖下出禁手點，程式會阻止該落子，並在下方狀態列提示禁手類型，要求黑方選擇其他位置。

禁手例外： 如果黑方下一子同時形成五連和禁手（如三三、四四），則不算禁手，黑方直接獲勝。程式碼透過先檢查五連再檢查禁手來實現此規則。

平局： 如果棋盤下滿仍未分勝負，則判為平局。

圖形化使用者介面 (GUI)：
使用 Pygame 函式庫建立。
繪製標準棋盤，包含格線和天元、星位標記。
清晰顯示黑白棋子。
滑鼠游標靠近可落子點時，會顯示半透明的預覽棋子。
最後落下的棋子會有紅色標記提示。
遊戲流程與控制：
自動輪換下棋方。
下方資訊面板顯示：
當前回合方或遊戲結果（勝負、平局、超時、禁手提示）。
雙方剩餘時間。
功能按鈕（重新開始、暫停/恢復、儲存棋譜、載入棋譜）。
點擊交叉點落子。
計時器：
為雙方提供獨立的倒數計時器（預設 10 分鐘）。
超時判負。
暫停/恢復：
可透過按鈕或 'P' 鍵暫停遊戲。
暫停時，計時器停止，棋盤上的棋子會隱藏。
再次點擊按鈕或按 'P' 鍵恢復遊戲。
暫停時間會被記錄，並在分析模式的棋譜中顯示。
重新開始：
可透過按鈕或 'R' 鍵隨時重新開始一局新遊戲。
棋譜儲存與載入 (Save/Load)：
可以將當前對局的完整行棋記錄（包含思考時間、暫停時間）儲存為 JSON 檔案 (renju_save.json)。
可以從 JSON 檔案載入棋譜，進入「分析模式」。
分析模式 (Analysis Mode)：
載入棋譜後自動進入。
右側面板顯示棋譜列表，格式為：「步數. (顏色)(座標)(思考時間)[暫停時間]」。例如："1.黑(H8)(3.2s)[P:1.5s]"。
當前檢視的棋步在列表中高亮（藍色）顯示。
提供「首步」、「上一步」、「下一步」、「末步」按鈕及鍵盤左右方向鍵，方便瀏覽棋局。
棋盤同步顯示選定步驟的局面，並標記該步落子。
列表會自動滾動，嘗試將當前棋步保持在可見範圍內。
字體支援：
嘗試載入常見中文字體（如 SimHei, Microsoft YaHei 等）。
若找不到，則使用 Pygame 的預設字體，但顯示效果可能變差。
安裝與執行說明
要執行這個五子棋遊戲，您需要：
安裝 Python 3：
確保您的系統已安裝 Python 3 (建議 3.7+)。如果沒有，請從 Python 官網 下載安裝。
安裝時建議勾選 "Add Python to PATH"。
取得遊戲程式碼：
將上面提供的完整 Python 程式碼複製並儲存為一個 .py 檔案，例如命名為 renju_game.py。
安裝 Pygame 函式庫：
開啟終端機（Terminal / Command Prompt / PowerShell）。
執行安裝指令：
pip install pygame
Use code with caution.
Bash
(如果需要，使用 pip3： pip3 install pygame)
字體 (可選，但建議)：
程式會嘗試自動尋找系統中已安裝的常用中文字體（如 SimHei、微软雅黑等）。
如果您希望確保最佳顯示，可以自行安裝這些字體中的至少一種。
如果程式找不到這些字體，它會使用 Pygame 的預設西文字體，中文提示文字可能會顯示為亂碼或方塊。

執行遊戲：
開啟終端機。
使用 cd 命令切換到儲存 renju_game.py 的目錄。
執行指令：
python renju_game.py
Use code with caution.
Bash
(或者 python3 renju_game.py)
遊戲視窗應該會出現。
現在您可以開始玩這個帶有日本規則的五子棋遊戲了！